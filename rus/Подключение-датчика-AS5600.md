

[На стартовую страницу](../README.md) | [Предыдущий раздел](Подключение-осей.md)

AS5600 - цифровой одноканальный датчик Холла. Работает по интерфейсу I2C, а так же можно использовать как аналоговый датчик Холла.  Питание датчика может осуществляться как от 5В так и от 3,3В, поэтому необходимо проконтролировать, правильно ли разведено питание датчика на плате. Для этого необходимо проверить наличие соединения между 1 и 2 контактами микросхемы (как показано на рисунке ниже, первой считается контакт микросхемы возле ключа - выдавленной точки на корпусе микросхемы), если сопротивление большое, то соединить эти контакты (например достаточно большой каплей припоя).

![](../images/A1.3.0.jpg)

### Подключение AS5600 по интерфейсу I2C

![](../images/A1.3.jpg)

* I2C_SCL – Общий для всех устройств I2C (AS5600 и АЦП ADS1115)
* I2C_SDA – Общий для всех устройств I2C (AS5600 и АЦП ADS1115)

Как видно из рисунка выше датчики можно купить уже распаянными на плату. Из за того, что датчики имеют один и тот же адрес присвоенный на заводе, к **FreeJoy можно подключить только один датчик такого типа**.

Установка магнита для датчика аналогична  [установке магнитов для датчиков TLE5010/5011](Подключение-датчиков-TLE5010-5011.md)

Стоимость датчиков AS5600 сравнима с Датчиками Холла. Их можно применять для контроля наиболее важных осей контроллера, которые используются в симуляторах часто, и когда необходима наиболее высокая точность показаний. Ресурс датчиков AS5600 практически неограничен, т.к. они являются бесконтактными как и датчики Холла. Их точность несколько ниже датчиков TLE5011.

Последующая настройка оси описана в разделе [Настройка осей](Настройка-осей.md)

### Подключение AS5600 как аналогового датчика

![](../images/A1.3.1.jpg)

Как видно из рисунка, при таком подключении AS5600 работает как обычный аналоговый датчик холла и уровень сигнала на выходе (OUT) меняется от 0 до 3,3В, при повороте магнита 360 град. Таким образом можно подключить до 8 датчиков к контактам контроллера A0 - A7.

AS6500 позволяет перепрограммировать угол вращения магнита, таким образом, что бы изменение напряжения от 0 до 3,3 в происходило при повороте магнита на меньший угол. Это позволяет добиться гораздо более высокой точности, чем у обычного датчика Холла. **Такое перепрограммирование возможно произвести один раз. Повторное перепрограммирование угла поворота датчика невозможно.** Поэтому рекомендуется производить такое программирование на датчике уже установленном в создаваемое вами устройство.

#### Перепрограммирование угла поворота магнита для AS5600:

1. Замкнуть вывод PGO (GPO) на землю перемычкой при снятом питании (это необходимо для входа в режим программирования).

2. Замкнуть вывод DIR в зависимости от того, куда планируется вращать магнит при калибровке из начального положения относительно крышки чипа: на землю - по часовой стрелке, на плюс питания- против часовой.

3. Подать питание.

4. Повернуть магнит в начальное крайнее положение.

5. Кратковременно замкнуть выход (OUT) на землю.

6. Повернуть магнит в другое крайнее положение (угол должен быть не меньше 18 градусов).

7. Кратковременно замкнуть выход (OUT) на землю.

8. Проверить, меняется ли сигнал на выходе при повороте магнита. Если там постоянно "0" или плюс питания вне зависимости от положения магнита, то была ошибка при программировании (например, "дребезг" при замыкании выхода в п. 5 и 7). Тогда повторить, начиная с п. 4.

9. Снять перемычку с PGO (GPO).



Последующая настройка оси описана в разделе [Настройка осей](Настройка-осей.md)

[На стартовую страницу](../README.md) | [Предыдущий раздел](Подключение-осей.md)

